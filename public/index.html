<!DOCTYPE html>
<html ng-app="ThemisComponentsApp">
  <head>
    <meta charset="utf-8">
    <title>ThemisUI</title>
    <link rel="stylesheet" type="text/css" href="/build/app.css">
    <base href="/">
  </head>
  <body ng-controller="AppController">
    <div class="sidebar">
      <header class="main">
        <!-- <i class="logo"></i> -->
        <h1>ThemisUI</h1>
      </header>
      <div
        class="component-list-view {{ viewType }}"
        ng-controller="ComponentListController"
        ng-cloak
        >
        <a
          ng-cloak
          ng-repeat="component in components"
          ng-class="{selected:selectedComponent == component}"
          ng-href="{{component}}"
          >{{ component }}</a>
      </div>
    </div>

    <div class="component-details-view"
      ng-controller="ComponentDetailsController"
      ng-cloak
      >
      <div th-bind-markdown="readme.markdown"></div>
      <div ng-bind-html="readme.html"></div>

      <h2 ng-if="examples.length > 0">Examples</h2>
      <th-component-example
        ng-repeat="example in examples"
        component-name="name"
        component-example="example"/>
    </div>

    <script src="/build/app.js"></script>

    <script>
      var host = location.hostname + ":" + location.port;
      var websocket = new WebSocket("ws://" + host + "/channel");

      // Reload page when socket closes
      websocket.onclose = function() {
        setTimeout(function() { location.reload() }, 1000);
      };
    </script>
  </body>
</html>
